---
import { Code as AstroCode } from "astro:components";

type Props = Parameters<typeof AstroCode>[0];

const { class: className, ...props } = Astro.props;
---

<AstroCode
  {...props}
  class={className}
  themes={{
    light: "github-light",
    dark: "github-dark",
  }}
/>
<style is:global>
  .astro-code {
    width: fit-content;
    max-width: 100%;
    margin: auto;

    padding: 2ch;
  }
  @media (prefers-color-scheme: dark) {
    .astro-code,
    .astro-code span {
      background-color: var(--shiki-dark-bg) !important;
      color: var(--shiki-dark) !important;
    }
  }
</style>
